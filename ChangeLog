2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* debian/hildon-status-menu.init:
	* debian/rules (CFLAGS): Add startuo script for hildon-status-menu.

2008-09-24  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hildon-status-menu.c (HD_STAMP_DIR): Use a stampdir which is
	writable by user.

2008-09-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Require libhildondesktop >= 2.1.4

	* src/hildon-status-menu.c (signal_handler, main): Use new stamp file
	functions.

2008-09-03  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.3.0

2008-08-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-area.c (hd_status_area_plugin_added_cb): Store plugin
	  ID in image widget.
	  (update_position): Use the plugin ID. Fix image widget is no plugin
	  item bug.

2008-08-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-area.c (update_position,
	  hd_status_area_plugin_configuration_loaded_cb): Update positions if
	  plugin configuration changed.

2008-08-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-area-box.c (hd_status_area_box_reorder_child): Queue
	resize if children is visible.

	* src/hd-status-area.c (hd_status_area_check_resize): Fix resize if
	there is no configure notify event triggered.
	* src/hd-status-menu.c (hd_status_menu_check_resize): Fix resize if
	there is no configure notify event triggered.

2008-08-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-menu-config.h: Fix defintions.

2008-08-29  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-menu-config.h: Add definitions for config file keys.

	* src/hd-status-area.c (hd_status_area_plugin_added_cb): Use config
	file key definitions.

	* src/hd-status-menu.c: Update comments.
	  (hd_status_menu_plugin_added_cb, update_position): Use config file
	  key defintions.

	* src/hildon-status-menu.c (load_priority_func): Use config
	file key definitions.


2008-08-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Update hildon-1 dependency.

	* src/hd-status-menu-box.c (hd_status_menu_box_get_property,
	  hd_status_menu_box_class_init): Add readable ::visible-items
	  property, which contains the number of visible items.
	  (hd_status_menu_box_size_allocate): Use the avaiable allocation, to
	  calculate the width of the child widgets.
	  (hd_status_menu_box_size_request): Update ::visible-items property
	  if it changes.

	* src/hd-status-menu.c (notify_visible_items_cb): Update the size
	  request of the pannable area if the number of visible children
	  changes.
	  (hd_status_menu_init): Update pannable area property names. Use
	  a GtkAlignment to center the pannable area in the window.
	  (hd_status_menu_check_resize): Resize the window to the requested
	  size.
	  (hd_status_menu_class_init): Override
	  GtkContainerClass::check_resize function.

2008-08-26  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-area.c (hd_status_area_check_resize): Resize the
	window to the requested size.
	  (hd_status_area_class_init): Override
	  GtkContainerClass::check_resize function.

2008-08-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Update required libhildondesktop version.

2008-08-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-area-box.h:
	* src/hd-status-area-box.c (hd_status_area_box_add,
	  hd_status_area_box_pack): Add a function to pack a child into the
	  box with a position.
	  (hd_status_area_box_reorder_child): Add a function to update the
	  position of a child widget in the box.

	* src/hd-status-area.c (hd_status_area_plugin_added_cb): Use the
	plugin configuration to place the item at a specified position.
	  (hd_status_area_realize): Update the _NET_WM_WINDOW_TYPE of the
	  window.

	* src/hd-status-menu-box.h:
	* src/hd-status-menu-box.c (hd_status_menu_box_add,
	  hd_status_menu_box_pack): Add a function to pack a child into the
	  box with a position.
	  (hd_status_menu_box_reorder_child): Add a function to update the
	  position of a child widget in the box.

	* src/hd-status-menu.c (hd_status_menu_plugin_added_cb): Use the
	plugin configuration to place the plugins at specific positions.
	  (update_position, hd_status_menu_plugin_configuration_loaded_cb):
	  Update the plugin positions if the plugin configuration changed.
	  (hd_status_menu_realize):  Update the _NET_WM_WINDOW_TYPE of the
	  window.

	* src/hildon-status-menu.c (load_priority_func, main): Use the
	position in the Status Area as the load priority of the plugin.

	* src/status-menu.conf.in: Move Status Area configuration to the
	.plugins file.
	* src/status-menu.plugins.in: Add new Status Area configuration.

2008-08-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Require new libhildondesktop version.

	* debian/hildon-status-menu.install: Install status-menu.plugins file.

	* src/hd-status-area.c (hd_status_area_init, hd_status_area_plugin_added_cb,
	  hd_status_area_plugin_removed_cb,
	  hd_status_area_configuration_loaded_cb): Add support for embedding
	  a clock widget in the Status Area. Use the plugin ids (.desktop file
	  names) to identify the plugins instead of the dl filenames.

	* src/status-menu.conf.in: Add X-Plugin-Configuration key. Use
	.desktop file names (plugin id) instead of dl filenames for the
	X-Signal-Plugin and X-Battery-Plugin keys. Add X-Clock-Plugin key.

	* src/status-menu.plugins.in: Add Plugin configuration file for plugin
	loading priority and the position of the item in the Status Area and
	Status Menu.

	* src/Makefile.am: Install status-menu.plugins file.

2008-08-11  Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>

	Released 0.2.0

2008-08-10  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Add hildondesktoplibdir variable (get from
	libhildondesktop-1.pc).

	* src/Makefile.am: Add hd-status-area-box.[ch]

	* src/hd-status-area-box.c:
	* src/hd-status-area-box.h: Add HDStatusAreaBox container, which
	displays the visible Status Area icons in two rows from left to right.

	* src/hd-status-area.c:
	* src/hd-status-area.h: Implement Status Area.

	* src/hildon-status-menu.c (main): Create a Status Menu and use it to
	open the Status Menu.

	* src/status-menu.conf.in: Add configuration for special (battery and
	signal) example Status Area icons.

2008-07-25  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Increase veriosn.

	* debian/rules: Simplify rules.

	* src/hd-status-menu-box.c (hd_status_menu_box_forall): Fix problem
	with an invalid pointer if gtk_widget_destroy() is called.

	* src/hd-status-menu.c (hd_status_menu_dispose): Add Chain up to
	parent dispose.

	* src/hildon-status-menu.c (main): gtk_widget_destroy() the Status
	Menu on quit.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac:
	* debian/changelog: Use 0.1.0 as version number.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Get hildonstatusmenudesktopentrydir from
	libhildondesktop-1.pc file (no more expanding required).

	* src/Makefile.am: Remove unused variables.

2008-07-23  Jan Arne Petersen  <jpetersen@openismus.com>

	reviewed by: <delete if not using a buddy>
	patch by: <delete if not someone else's patch>

	* configure.ac:
	* src/Makefile.am:
	* src/hildon-status-menu.c:

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* Makefile.am:
	* configure.ac:
	* debian/hildon-status-menu.install:
	* hildon-status-menu.desktop.in: Add .desktop file.

	* src/hildon-status-menu.c: Use HildonWindow instead of GtkWindow.

2008-07-22  Jan Arne Petersen  <jpetersen@openismus.com>

	* configure.ac: Update version

	* debian/changelog:
	* debian/control:
	* debian/hildon-status-menu.install:
	* debian/rules: Add debian package files.

	* src/hd-status-menu-box.c (hd_status_menu_box_size_request): Fix size
	request bug.

2008-07-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-menu.c (hd_status_menu_map, hd_status_menu_unmap): Fix
	some warnings.

2008-07-16  Jan Arne Petersen  <jpetersen@openismus.com>

	* src/hd-status-menu.c (hd_status_menu_dispose,
	hd_status_menu_plugin_added_cb, hd_status_menu_plugin_removed_cb,
	hd_status_menu_set_property, hd_status_menu_class_init,
	hd_status_menu_new): Move HDPluginManager instance as "plugin-manager"
	property into HDStatusMenu.
	(hd_status_menu_map, hd_status_menu_unmap): Remove emission of
	status-menu-map and status-menu-unmap signals.
	* src/hd-status-menu.h: Move plugin-manager instance into
	HDStatusMenu. Remove unused functions.
	* src/hildon-status-menu.c (main): Move plugin-manager instance into
	HDStatusMenu.
	* src/hd-status-area.c (button_release_event_cb): Update
	hd_status_menu_new call.

2008-07-15  Jan Arne Petersen  <jpetersen@openismus.com>

	* README: Add some information.

2008-07-14  Jan Arne Petersen  <jpetersen@openismus.com>

	Initial import.
